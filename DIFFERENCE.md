# DIFFRENCE

## Unreleased

### AI
<!-- Gemini: @gemini このPRをレビューしてください（Gemini APIは認証問題により無効化中） -->
@claude このPRをレビューしてください。yamisskeyへの本家misskey-dev/misskey 2025.9.0リリースのマージPRです。

#### 2025.9.0 主な変更点は以下の通りです：

##### Client:
- AiScriptAppウィジェットのエラー表示改善
- `/flush`ページでのキャッシュクリア機能追加
- クリップ/リスト/アンテナ/ロール追加メニューの表示件数拡張
- 「キャッシュを削除」ボタンのブラウザキャッシュ対応
- Ctrl/Command+クリックで新タブ対応
- プッシュ通知・RSSティッカー・アカウント切替・画像表示等のバグ修正

##### Server:
- webp等画像のセンシティブ検出修正

#### レビュー時の重点確認ポイント：

- yamisskey特有のプライバシー機能（やみノート、未ログイン制限等）への影響
- 既存のcherry-pick機能や独自拡張との競合リスク
- APIや型定義ファイル（TypeScript定義等）でのコンフリクト・破壊的変更の有無
- セキュリティ、パフォーマンス、コード品質の観点での問題点

特に今回、型定義ファイル（定義ファイル）で多くのコンフリクトが発生したため、
型の互換性やyamisskey固有の型拡張・上書き部分が正しく維持されているかを重点的に確認してください。

### Feat
- Misskey 2025.9.0への追従

## 2025.8.0-yami-1.9.19

### Fix
- ハッシュタグボタンを押しても入力欄が表示されない問題を修正
- `excludeBots`タイムラインフィルターがリロード時にリセットされる問題を修正

## 2025.8.0-yami-1.9.18

### Feat
- チャンネル一覧ページにピン止めタブを追加
- チャンネルピン止め機能をお気に入り機能から独立し、検索式選択に改善
- チャンネルタイムラインに専用の投稿フォーム設定オプションを追加

## 2025.8.0-yami-1.9.17

### Fix
- 浮上タイムラインに自動ロード機能を対応

## 2025.8.0-yami-1.9.16

### Fix
- リリースワークフローでDockerイメージが作成されない問題を修正
- GitHub Releaseを`published`状態で作成してDockerワークフローを発火させるよう改善

## 2025.8.0-yami-1.9.15

### Test
- 修正版リリースワークフローのテスト実行

## 2025.8.0-yami-1.9.14

### Test
- タグ重複エラー修正の検証
- DIFFERENCE.mdからの正確なリリースノート抽出テスト
- AI Code Reviewセクション除去の確認

### Fix
- GitHub Actionsリリースワークフローの修正
- タグ重複エラーの解決: 既存タグ削除処理を追加
- リリースノート取得の改善: DIFFERENCE.mdから正確にバージョンセクションを抽出
- AI Code Review Requestセクションの除去
- 既存リリース削除処理を追加してリリース重複エラーを回避

## 2025.8.0-yami-1.9.13

### AI
@claude このPRをレビューしてください。セキュリティ、パフォーマンス、コード品質の観点で問題点があれば指摘してください。
<!-- Gemini: @gemini このPRをレビューしてください（Gemini APIは認証問題により無効化中） -->

### Fix
- 外部クライアントとの互換性問題（`user.createdAt`が`null`になる）を修正するため、登録日を非表示にする機能を削除

## 2025.8.0-yami-1.9.12

### AI
@claude このPRをレビューしてください。本家misskey-dev/misskeyの2025.8.0リリースをyamisskeyフォークにマージした内容です。

以下の観点で重点的に確認をお願いします：

**互換性・影響範囲**
- yamisskey特有のプライバシー機能（やみノート、未ログイン制限等）への影響
- 既存のcherry-pickした機能との競合リスク
- APIの破壊的変更（ノート削除時の関連データ保持）の影響範囲

**セキュリティ**
- Node.js 22.15.0への更新に伴うセキュリティ強化点
- 新しいリモート投稿クリーニング機能の安全性
- 認証周りの変更がyamisskeyの制限機能に与える影響

**運用・パフォーマンス**
- データベースサイズ削減機能の効果と注意点
- 新しいCLIコマンドの運用面での利便性
- AiScript 1.1.0更新によるプラグイン互換性

**テスト推奨項目**
- やみモード関連機能の動作確認
- 未ログインユーザー制限の継続確認
- 時限消滅ノート機能との相互作用

セキュリティ、パフォーマンス、コード品質の観点で問題点があれば指摘してください。

<!-- Gemini: @gemini このPRをレビューしてください（Gemini APIは認証問題により無効化中） -->

### Feat
- Misskey 2025.8.0への追従
- 全タイムライン種別にBotフィルタリングオプションを追加
- 予約投稿一覧に削除予定時刻の表示を追加
- アクティブ状態の既定値を非公開に変更（プライバシー強化）

### Fix
- やみタイムラインのMisskey 2025.8.0互換性を修正
- やみタイムラインのオプション`showYamiNonFollowingPublicNotes`で過去のノートが取得できない問題を修正
- 廃止されたSearchKeywordをSearchTextに置換し、SearchIcon閉じタグを修正
- フロントエンド：重複するプライバシー設定エントリを削除
- フロントエンド：タイムラインフィルターオプションにアイコンを追加してUIレイアウトを統一
- 一行に収まらないやみTLフィルタリングオプションの翻訳を短縮
- 過度に長い英語タブタイトルを短縮
- Botアカウントを除外するタイムラインオプションの翻訳を追加
- メンタルヘルス設定項目の「独自機能」ラベル付け忘れを修正
- `pnpm build-misskey-js-with-types`の修正
- ロケールファイルの更新

### Refactor
- 削除予定アイコンをメタデータエリアに移動

### Clean
- JitsiMeet ウィジェットからデバッグ用console.logを削除

### Chore
- 依存関係の更新
- セキュリティ修正の適用
- yamisskey著作権表示更新
- Claude PR Assistantの一時削除（`claude /install-github-app`準備のため）

### Enhance
- 最新版Misskeyとの互換性向上
- UIの一貫性とユーザビリティの改善
- プライバシー機能の強化

## 2025.7.0-yami-1.9.11

### Feat
- リリースワークフローを Yamisskey フォークと nayami→yami フローに移行
- ユーザー登録日プライバシーオプション追加

### Enhance
- やみノートが投稿できる時にデフォルトでやみノートで投稿する設定を有効化
- フォロー解除通知の型定義を追加
- フロントエンド ESLint エラーを修正
- yamisskey-timeline Promise バグを修正

### Chore
- GitHub Actions ワークフローを yamisskey repository 用に更新
- Docker ワークフローを yamisskey 用に更新
- カスタムフォントリストに新しいフォント追加
- SPDX ライセンスヘッダーを追加
- やみモード切り替えボタンの設定表示を改善

### Fix
- muyami ブランチでバージョン名プレフィックスが nayami になっていた問題を修正
- CI コンプライアンス用の各種修正
- Repository URL を実際の GitHub organization 名に修正

## 2024.10.1-yami-1.3.8
### Feat
- 最終アクティブでコンディショナルなロールを制御可能に (cherry-pick: pwpspace)

## 2024.10.0-yami-1.3.7
### Feat
- アカウント登録を承認制に出来るように (cherry-pick: serafuku) + chore(lqvp-fork)

## 2024.10.0-yami-1.3.6
### Feat
- ユーザーのサーバー情報をアイコンのみにする (MattyaDaihuku)
- 投稿フォーム下部の項目をカスタマイズできるように (cherry-pick: kakurega.app)
- 投稿フォームをリセットできるボタンを追加 (cherry-pick: kakurega.app)
- ノートの時限消滅のデフォルト値を設定できるように (cherry-pick: kakurega.app)
### Enhance
- ノートの時限消滅の設定欄を折りたたんだ状態の表示を改善 (cherry-pick: kakurega.app)
- ノートの時限消滅機能を改善 (cherry-pick: kakurega.app)
- ノートの時限消滅の経過指定の挙動を改善 (cherry-pick: kakurega.app)
### Refactor
- 時限消滅ノートで1年以上後の日時を指定できないように (cherry-pick: kakurega.app)

## 2024.10.0-yami-1.3.5
### Enhance
- ドライブの削除をすぐ消すように変更

## 2024.10.0-yami-1.3.4
### Enhance
- 連合情報周りで認証を必須に
- /aboutの不要な部分を削除

## 2024.10.0-yami-1.3.3
### Feat
- KaTeXを戻す
## Enhance
- user/note/channelの一部metaを削除

## 2024.9.0-yami-1.3.2
### Feat
- ドライブの写真をプロフィールから見れなくする

## 2024.9.0-yami-1.3.1
### Client
- フォロー/フォロワー/アナウンス/みつける/Play/ギャラリー/チャンネル/TL/ユーザー/ノートのページをログイン必須に
- hideReactionUsersをデフォルトで有効に(未ログインユーザーからリアクションしたユーザーを隠せます)

## 2024.9.0-yami-1.3.0
### Feat
- ロールで引用通知の設定を制限出来るように

## 2024.9.0-yami-1.2.9
### Feat
- ノート数を隠せるように(連合しません)

## 2024.9.0-yami-1.2.8
### Feat
- Cherry-Pick アクティビティの非公開機能(hideki0403/kakurega.app)
- Cherry-Pick 誰がリアクションをしたのかを非表示にできる機能を実装(hideki0403/kakurega.app)
- Cherry-Pick リアクション数の非表示機能を実装(hideki0403/kakurega.app)

## 2024.9.0-yami-1.2.7
### Enhance
- プライバシーに考慮して、「noCrawle/isExplorable/hideOnline/ffVisibility/フォロリクの自動承認/鍵垢/リアクションの受け入れ」のデフォルト値を変更

## 2024.9.0-yami-1.2.6
### Client
- 状態にかかわらず未ログインユーザーからノートを非表示に(1.2.4の強化)
### Server
- `notes/show`, `users/notes`の認証を不要に(revert?)

## 2024.9.0-yami-1.2.5
### Feat
- フォロー解除時にも通知するように

## 2024.8.0-yami-1.2.4
### Feat
- リアクションでミュートを考慮する
### Client
- 連合なしノートを未ログイン状態で閲覧出来ないように

## 2024.8.0-yami-1.2.0
### Feat
- ノートの時限消滅(cherry-pick)
- フォローリクエスト自動拒否(cherry-pick)

## 2024.8.0-yami-1.1.0
### Server
- Cherry-Pick リバーシの連合に対応(yojo-art/cherrypick)

## 2024.8.0-yami-1.0.1/1.0.2/1.0.3/1.0.4
### Client
- エントランスからユーザー数/ノート数/チャートを削除
### Server
- ノート/ハイライトの取得に認証を要求
- 絵文字のエクスポートにモデレーター権限を要求
- チャンネル内のTLの取得に認証を要求
- metaからノートの内容を削除

## 2024.7.0-yami_v1.0
### Client
- Cherry-Pick 利用する検索エンジンを選べるようにする(nexryai/nexkey) + SearX Support
